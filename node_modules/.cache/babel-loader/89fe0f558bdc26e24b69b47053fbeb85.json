{"remainingRequest":"C:\\Users\\jhowb\\Desktop\\FrontEletro\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jhowb\\Desktop\\FrontEletro\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jhowb\\Desktop\\FrontEletro\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jhowb\\Desktop\\FrontEletro\\src\\pages\\Marca.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jhowb\\Desktop\\FrontEletro\\src\\pages\\Marca.vue","mtime":1672993916798},{"path":"C:\\Users\\jhowb\\Desktop\\FrontEletro\\.babelrc","mtime":1607335907000},{"path":"C:\\Users\\jhowb\\Desktop\\FrontEletro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jhowb\\Desktop\\FrontEletro\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\jhowb\\Desktop\\FrontEletro\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jhowb\\Desktop\\FrontEletro\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.assign\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/Users/jhowb/Desktop/FrontEletro/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es7.promise.finally\";\n//import 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from \"axios\";\nexport default {\n  name: 'Marca',\n  data: function data() {\n    return {\n      search: '',\n      loadTable: true,\n      id: this.id,\n      Marca: this.Marca,\n      criarMarca: this.criarMarca,\n      dialog: false,\n      dialogDelete: false,\n      dialogRelatorio: false,\n      editedIndex: -1,\n      getMarca: [],\n      errors: [],\n      show: false,\n      headers: [{\n        text: 'Id',\n        align: 'start',\n        value: 'Id'\n      }, {\n        text: 'Nome',\n        value: 'Marca'\n      }, {\n        text: 'Ações',\n        value: 'actions',\n        sortable: false\n      }]\n    };\n  },\n  computed: {\n    formTitle: function formTitle() {\n      return this.editedIndex === -1 ? 'New Item' : 'Edit Item';\n    }\n  },\n  watch: {\n    dialog: function dialog(val) {\n      val || this.close();\n    },\n    dialogDelete: function dialogDelete(val) {\n      val || this.closeDelete();\n    },\n    dialogRelatorio: function dialogRelatorio(val) {\n      val || this.closeRelatorio();\n    }\n  },\n  methods: {\n    criarMarca: function criarMarca() {\n      var _this = this;\n      setTimeout(function () {\n        return _this.show = !_this.show;\n      }, 10);\n    },\n    cadastroMarca: function cadastroMarca() {\n      var _this2 = this;\n      this.criarMarca();\n      axios.post(\"/marca\", {\n        Marca: this.nomeMarca\n      }).then(function (res) {\n        res.send(\"Cadastro com sucesso!\");\n        _this2.criarMarca();\n        _this2.dialog = false;\n      }).catch(function (error) {\n        _this2.criarMarca();\n        _this2.dialog = false;\n      }).finally(function () {\n        _this2.criarMarca();\n        _this2.dialog = false;\n      });\n    },\n    atualizarMarca: function () {\n      var _atualizarMarca = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var id;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              id = this.id;\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.patch(\"/marca/\" + id, {\n                \"Marca\": this.Marca\n              });\n            case 4:\n              alert(\"Marca Atualizado!\");\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](1);\n              alert(\"Erro!\");\n            case 10:\n              this.dialog = false;\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n      function atualizarMarca() {\n        return _atualizarMarca.apply(this, arguments);\n      }\n      return atualizarMarca;\n    }(),\n    editItem: function editItem(item) {\n      this.editedIndex = this.getMarca.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.id = item.Id;\n      this.Marca = item.Marca;\n      this.dialog = true;\n    },\n    deleteItem: function deleteItem(item) {\n      this.editedIndex = this.getMarca.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogDelete = true;\n    },\n    deleteItemConfirm: function deleteItemConfirm(item) {\n      var id = item.id;\n      axios.delete(\"/marca/\" + id).then(function (res) {\n        alert(\"Marca Removida!\");\n      }).catch(function (error) {\n        alert(\"Erro!\");\n      }).finally(function () {});\n      this.closeDelete();\n    },\n    close: function close() {\n      var _this3 = this;\n      this.dialog = false;\n      this.$nextTick(function () {\n        _this3.editedItem = Object.assign({}, _this3.defaultItem);\n        _this3.editedIndex = -1;\n      });\n    },\n    closeDelete: function closeDelete() {\n      var _this4 = this;\n      this.dialogDelete = false;\n      this.$nextTick(function () {\n        _this4.editedItem = Object.assign({}, _this4.defaultItem);\n        _this4.editedIndex = -1;\n      });\n    },\n    closeRelatorio: function closeRelatorio() {\n      var _this5 = this;\n      this.dialogRelatorio = false;\n      this.$nextTick(function () {\n        _this5.editedItem = Object.assign({}, _this5.defaultItem);\n        _this5.editedIndex = -1;\n      });\n    },\n    save: function save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.getMarca[this.editedIndex], this.editedItem);\n      } else {\n        this.getMarca.push(this.editedItem);\n      }\n      this.close();\n    }\n  },\n  created: function created() {\n    var _this6 = this;\n    axios.get(\"/marca\").then(function (response) {\n      _this6.getMarca = response.data;\n    }).catch(function (error) {\n      _this6.getMarca = error.data;\n    });\n    this.loadTable = false;\n  }\n};",{"version":3,"mappings":";;;;AAiKA;AACA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,UACA;QACAC;QACAC;QACAC;MACA,GAEA;QAAAF;QAAAE;MAAA,GAEA;QAAAF;QAAAE;QAAAC;MAAA;IAEA;EACA;EACAC;IACAC;MACA;IACA;EACA;EAEAC;IACAd;MACAe;IACA;IACAd;MACAc;IACA;IACAb;MACAa;IACA;EACA;EACAC;IACAjB;MAAA;MACAkB;QAAA;MAAA;IACA;IACAC;MAAA;MACA;MACAC;QAEArB;MAEA,GACAsB;QACAC;QACA;QACA;MACA,GACAC;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MAAA;QAAA;QAAA;UAAA;YAAA;cACA1B;cAAA;cAAA;cAAA,OAGAsB;gBAEA;cAEA;YAAA;cACAK;cAAA;cAAA;YAAA;cAAA;cAAA;cAGAA;YAAA;cAEA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;MAAA;QAAA;MAAA;MAAA;IAAA;IAIAC;MACA;MACA;MACA;MACA;MAEA;IACA;IAIAC;MACA;MACA;MACA;IACA;IAEAC;MAEA;MACAR,6BACAC;QACAI;MACA,GACAF;QACAE;MACA,wBACA;MACA;IACA;IAEAI;MAAA;MACA;MACA;QACA;QACA;MACA;IACA;IAEAC;MAAA;MACA;MACA;QACA;QACA;MACA;IACA;IAEAC;MAAA;MACA;MACA;QACA;QACA;MACA;IACA;IAEAC;MACA;QACAC;MACA;QACA;MACA;MACA;IACA;EAEA;EACAC;IAAA;IAEAd,oBACAC;MACA;IACA,GACAE;MACA;IACA;IACA;EACA;AACA","names":["name","data","search","loadTable","id","Marca","criarMarca","dialog","dialogDelete","dialogRelatorio","editedIndex","getMarca","errors","show","headers","text","align","value","sortable","computed","formTitle","watch","val","methods","setTimeout","cadastroMarca","axios","then","res","catch","atualizarMarca","alert","editItem","deleteItem","deleteItemConfirm","close","closeDelete","closeRelatorio","save","Object","created"],"sourceRoot":"src/pages","sources":["Marca.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-card>\n      <v-card-title>\n        Marca\n        <v-spacer></v-spacer>\n        <v-btn\n                color=\"primary\"\n                @click=\"criarMarca\"\n              >\n              Criar Marca\n              </v-btn><v-spacer></v-spacer>\n        <v-text-field\n          v-model=\"search\"\n          append-icon=\"mdi-magnify\"\n          label=\"Pesquisar\"\n          single-line\n          hide-details\n        ></v-text-field>\n      </v-card-title>\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"getMarca\"\n        :search=\"search\"\n        :loading=\"loadTable\"\n        loading-text=\"Carregando... Por favor,aguarde!\"\n      >\n  \n  \n      <template v-slot:top>\n        <v-toolbar\n          flat\n        >\n        <v-dialog\n            v-model=\"dialog\"\n            max-width=\"500px\"\n          >\n            <v-card>\n                <div class=\"modal-dialog modal-lg\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\">Edição de Marca</h5>\n              <v-btn\n                type=\"button\"\n                class=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n                @click=\"close\"\n              >\n                <span aria-hidden=\"true\">&times;</span>\n              </v-btn>\n            </div>\n            <div class=\"modal-body\">\n              <form v-on:submit.prevent=\"atualizarMarca\">\n                <div class=\"mb-3\">\n                <label for=\"formName\" class=\"form-label\">Nome</label>\n                <input :placeholder=\"Marca\" class=\"form-control\" type=\"text\" v-model=\"Marca\" id=\"Marca\">\n              </div>\n              \n              \n              \n              \n              <div class=\"mb-3\">\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"close\"\n                >\n                  Cancelar\n                </v-btn>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  type=\"submit\"\n                >\n                  Salvar\n                </v-btn>\n              </div>\n              </form>\n            </div>\n          </div>\n        </div>\n            </v-card>\n          </v-dialog>\n  \n          <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n            <v-card>\n              <v-card-title class=\"text-h5\">Deseja remover esse registro?</v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">Cancelar</v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm(item)\">Sim</v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n          </v-toolbar>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n      \n        <v-icon\n        small\n        class=\"mr-2\"\n        @click=\"editItem(item)\"\n      >\n        mdi-pencil\n      </v-icon>\n        <v-icon\n          small\n          @click=\"deleteItemConfirm(item)\"\n        >\n          mdi-delete\n        </v-icon>\n      </template>\n      <template v-slot:no-data>\n        <span>\n          Carregando... Por favor,aguarde!\n        </span>\n      </template>\n      </v-data-table>\n    </v-card>\n    <div\n        ref=\"modal\"\n        class=\"modal fade\"\n        :class=\"{show}\"\n        tabindex=\"-1\"\n        role=\"dialog\"\n      >\n        <div class=\"modal-dialog modal-lg\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title\">Criação de Marca</h5>\n              <button\n                type=\"button\"\n                class=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n                @click=\"criarMarca\"\n              >\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              <form v-on:submit.prevent=\"cadastroMarca\">\n              <div class=\"mb-3\">\n                <label for=\"formName\" class=\"form-label\">Nome</label>\n                <input class=\"form-control\" type=\"text\" v-model=\"criarMarca\" id=\"marca\">\n              </div>\n      \n              <div class=\"mb-3\">\n                <button type=\"submit\" class=\"btn btn-primary pull-right\">Cadastrar</button>\n              </div>\n              </form>\n              </div>\n          </div>\n        </div>\n      </div>\n    </v-app>\n  </template>\n  \n  <script>\n  //import 'bootstrap/dist/css/bootstrap.min.css';\n  import axios from \"axios\"\n  \n    export default {\n      name: 'Marca',\n      data () {\n        return {\n          search: '',\n          loadTable: true,\n          id: this.id,\n          Marca: this.Marca,\n          criarMarca: this.criarMarca,\n          dialog: false,\n          dialogDelete: false,\n          dialogRelatorio: false,\n          editedIndex: -1,\n          getMarca: [],\n          errors: [],\n          show:false,\n          headers: [\n            {\n              text: 'Id',\n              align: 'start',\n              value: 'Id',\n            },\n            \n            { text: 'Nome', value: 'Marca' },\n            \n            { text: 'Ações', value: 'actions', sortable: false },\n          ],\n        }\n      },\n      computed: {\n        formTitle () {\n          return this.editedIndex === -1 ? 'New Item' : 'Edit Item'\n        },\n      },\n  \n      watch: {\n        dialog (val) {\n          val || this.close()\n        },\n        dialogDelete (val) {\n          val || this.closeDelete()\n        },\n        dialogRelatorio (val) {\n          val || this.closeRelatorio()\n        },\n      },\n      methods: {\n          criarMarca() {\n              setTimeout(() => (this.show = !this.show), 10);\n          },\n          cadastroMarca(){\n                  this.criarMarca()\n                  axios.post(\"/marca\", ({\n                    \n                    Marca: this.nomeMarca,\n                    \n                  }))\n                      .then((res) => {\n                          res.send(\"Cadastro com sucesso!\")\n                          this.criarMarca()\n                          this.dialog = false\n                      })\n                      .catch((error) => {\n                          this.criarMarca()\n                          this.dialog = false\n                      }).finally(() => {\n                          this.criarMarca()\n                          this.dialog = false\n                      });\n              },\n              async atualizarMarca(){\n                const id = this.id\n                \n          try{\n          await axios.patch(\"/marca/\"+id, {\n                  \n                  \"Marca\": this.Marca,\n                  \n                })\n          alert(\"Marca Atualizado!\");\n          } catch (error) {\n                \n                alert(\"Erro!\");\n          }\n          this.dialog = false\n            },\n           \n  \n        editItem (item) {\n          this.editedIndex = this.getMarca.indexOf(item)\n          this.editedItem = Object.assign({}, item)\n        this.id = item.Id\n        this.Marca = item.Marca\n        \n          this.dialog = true\n        },\n  \n        \n  \n        deleteItem (item) {\n          this.editedIndex = this.getMarca.indexOf(item)\n          this.editedItem = Object.assign({}, item)\n          this.dialogDelete = true\n        },\n  \n        deleteItemConfirm (item) {\n          \n          const id = item.id\n          axios.delete(\"/marca/\"+id)\n                          .then((res) => {\n                            alert(\"Marca Removida!\");\n                          })\n                          .catch((error) => {\n                            alert(\"Erro!\");\n                          }).finally(() => {\n                          });\n          this.closeDelete()\n        },\n  \n        close () {\n          this.dialog = false\n          this.$nextTick(() => {\n            this.editedItem = Object.assign({}, this.defaultItem)\n            this.editedIndex = -1\n          })\n        },\n  \n        closeDelete () {\n          this.dialogDelete = false\n          this.$nextTick(() => {\n            this.editedItem = Object.assign({}, this.defaultItem)\n            this.editedIndex = -1\n          })\n        },\n  \n        closeRelatorio () {\n          this.dialogRelatorio = false\n          this.$nextTick(() => {\n            this.editedItem = Object.assign({}, this.defaultItem)\n            this.editedIndex = -1\n          })\n        },\n  \n        save () {\n          if (this.editedIndex > -1) {\n            Object.assign(this.getMarca[this.editedIndex], this.editedItem)\n          } else {\n            this.getMarca.push(this.editedItem)\n          }\n          this.close()\n        },\n  \n  },\n      created: function(){\n        \n                     axios.get(\"/marca\")\n                          .then(response => {\n                            this.getMarca = response.data;\n                          })\n                          .catch(error => {\n                            this.getMarca = error.data;\n                          });\n                    this.loadTable= false;\n              },\n    }\n  </script>\n"]}]}